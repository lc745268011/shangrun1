function chkSearch(){var key=$("input[name='kw']:first");if(!key.val()){tip('请输入关键词');key.focus();return false;}}
function range(startNum, endNum, stepNum){for(var arr=[], i=startNum; i<=endNum; arr.push(i), i+=(stepNum ? stepNum : 1));return arr;};
function isCell(s){return /^1[34578]\d{9}$/.test(s)}
function isEmail(s){return /^[a-z0-9]([a-z0-9]*[-_\.]*[a-z0-9])*@([a-z0-9]*[-]?[a-z0-9])+([\.][a-z]{2,}){1,2}$/i.test(s)}
//waiting(f,tag1,tag2[,...])
function waiting(f){f=!!f;f?$('body').addClass('waiting'):$('body').removeClass('waiting');for(var i=1; i<arguments.length; arguments[i++].prop('disabled', f));}
/*判断浏览器是否支持某一个CSS3属性 @author ydr.me*/
function supportCss3(a){var c,b=["webkit","Moz","ms","o"],d=[],e=document.documentElement.style,f=function(a){return a.replace(/-(\w)/g,function(a,b){return b.toUpperCase()})};for(c in b)d.push(f(b[c]+"-"+a));d.push(f(a));for(c in d)if(d[c]in e)return!0;return!1}
//in_array（arrary.index()原生方法IE尚不支持）
function in_array(obj, arr){for(var i in arr){if(arr[i]===obj)return true;}return false;}
//生成a-b中n个随机数(包含a、b)
function randA2B(a, b, num){if(b++-a+1<num){alert('error: b-a>num');return [];}var arr=[], tmp=0, i=0;while(arr.length<num && ++i<=100){tmp=Math.floor(Math.random()*b)+a;if(!in_array(tmp, arr)){arr.push(tmp);}}return arr;}
function setHome(obj){var url = window.location;try{obj.style.behavior='url(#default#homepage)';obj.setHomePage(url);}catch(e){if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");}catch(e){alert("此操作被浏览器拒绝！\n请在浏览器地址栏输入\"about:config\"并回车\n然后将 [signed.applets.codebase_principal_support]的值设置为'true'，双击即可");}var prefs = Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces.nsIPrefBranch);prefs.setCharPref('browser.startup.homepage',url);}else{alert("您的浏览器不支持，请按照下面步骤操作：\n1、打开浏览器设置\n2、点击设置网页\n3、输入："+url+"\n4、点击确定");}}}
function addFavourite(){var title=document.title,url=window.location;try{window.external.addFavorite(url, title)}catch(e){try{window.sidebar.addPanel(title, url, "")}catch(e){alert("请使用Ctrl+D快捷键进行添加")}}}
//动态显示返回顶部按钮
//$(window).scroll(function(){if($(window).scrollTop() > $(window).height()/2){$('#DIVGOTOP').fadeIn();}else{$('#DIVGOTOP').fadeOut();}});
//提示信息（代替alert）
function tip(s, t, isTip){$('div#edgesun-js-tip').remove();if(!s)return;var div=$('<div id="edgesun-js-tip" style="position:fixed;z-index:99999;top:-10em;right:0;left:0;background-color:'+(isTip?'#093':'#d55')+';"><div style="margin:0 auto;padding:1.5em 0;width:98%;max-width:1000px;line-height:1.6;color:#fff;text-shadow:none;">'+s+'　<i id="edgesun-js-tip-count" style="font-size:small;text-align:right;">5</i></div></div>').appendTo('body'), h=(0-div.outerHeight())+'px', divCount=div.find('i#edgesun-js-tip-count'), tipTimer=null;div.css('top', h).animate({'top':0}, 200);t=t?t:5;setTimeout(function(){div.animate({'top':h}, 200, function(){clearInterval(tipTimer);div.remove();})}, t*1000);tipTimer=setInterval(function(){divCount.text(t);t=(t-0.1).toFixed(1);},100);}
//横向滚动--$('#ul')
function edgesunMoving(a){var f,g,b=a.parent(),c=a.find("li"),d=0,e="";c.size()&&(e=b.css("display"),"none"==e&&b.css({display:"block"}),d=c.outerWidth(!0)*c.size(),"none"==e&&b.css({display:"none"}),b.width()>d||(a.html(a.html()+a.html()),a.css({width:2*d+"px"}),f=function(){b.scrollLeft()==d?b.scrollLeft(1):b.scrollLeft(b.scrollLeft()+1)},g=setInterval(f,20),b.mouseover(function(){clearInterval(g)}),b.mouseout(function(){clearInterval(g),g=setInterval(f,20)})))};
//纵向滚动--$('#ul')
function edgesunMovingVertical(a){function d(){b.scrollTop()==c?b.scrollTop(1):b.scrollTop(b.scrollTop()+1)}var e,b=a.parent(),c=a.height();!a.find("li").size()||b.height()>c||(a.html(a.html()+a.html()),e=setInterval(d,25),b.mouseover(function(){clearInterval(e)}),b.mouseout(function(){e=setInterval(d,25)}))};
/*div水平滑动 $(ul)[,$(btn)[,t]] btn属性data-direction=1||-1*/
function edgesunSlideHorizontal(a,b,c){function d(b){e.stop(!1,!0);var c=e.scrollLeft()+h*(-1==b?-1:1);0>c?c=a.width():c+f>i&&(c=0),e.animate({scrollLeft:c},300)}if(a.size()>1)return a.each(function(){edgesunSlideHorizontal($(this),b,c)}),void 0;var e=a.parent(),f=e.width(),g=a.find("li"),h=g.outerWidth(!0),i=g.size()*h-g.outerWidth(!0)+g.outerWidth(!1),j=null;return g.last().css("margin-right",0),i<=e.width()?("undefined"!=typeof b&&b.hide(),void 0):(a.width(i),c=isNaN(c)?3e3:c,j=setInterval(d,c),e.hover(function(){clearInterval(j)},function(){j=setInterval(d,c)}),b&&(b.hover(function(){clearInterval(j)},function(){j=setInterval(d,c)}),b.click(function(){d($(this).attr("data-direction"))})),void 0)}
/*div垂直滑动 $(ul)[,$(btn)[,time]] btn属性data-direction=1||-1，因为改变了li数量，所以相应hoverimgzoomtextshow要放在本函数之后执行*/
function edgesunSlideVertical(a,b,c){function d(a){e.stop(!1,!0);var b=e.scrollTop()+(-1==a?-1:1)*i;0>b?b=g:b+f>g&&(b=0),e.animate({scrollTop:b},300)}var e,f,g,h,i,j,k,l;if(a.size()>1)return a.each(function(){edgesunSlideVertical($(this),b,c)}),void 0;if(e=a.parent(),f=e.height(),g=a.height(),h=a.find("li"),i=h.first().outerHeight(!0),j=0,k=null,i>=g)return"undefined"!=typeof b&&b.hide(),void 0;for(l=1;l<h.size();l++)if(h.eq(l).position().top>h.eq(0).position().top){j=l;break}a.find("li:gt("+((Math.ceil(h.size()/j)-1)*j-1)+")").css("margin-bottom",0),c=isNaN(c)?3e3:c,k=setInterval(d,c),e.hover(function(){clearInterval(k)},function(){k=setInterval(d,c)}),b&&(b.hover(function(){clearInterval(k)},function(){k=setInterval(d,c)}),b.click(function(){d($(this).attr("data-direction"))}))}
/*
焦点图-20161217
html <div class="wxy-img-focus"><ul><li><a href="#" data-title="标题" style="background-image:url(图片地址)"></a></li>...</ul></div>
wxyImgFocus({width:658, height:420, delay:4000, tag:$('#div2'), title:1|0, indexType:dot|num|null, indexPos:center|right, button:1|0})
*/
function wxyImgFocus(a){function b(b){j="undefined"==typeof b?++j:-1==b?--j:b,j==k&&(j=0),0>j&&(j=k-1),h.eq(j).stop(!0,!0).addClass("on").siblings().removeClass("on"),d.eq(j).stop(!0,!0).fadeIn().siblings().fadeOut(),a.title&&f.stop(!0,!0).append(e[0][j]).animate({scrollTop:f.height()},function(){$(this).find("a:first").remove()})}var c=a.tag,d=c.find("li"),e=[[],[]],f=null,g=null,h=null,i=null,j=0,k=0;return c.size()>1?(c.each(function(){var b=a;b.tag=$(this),wxyImgFocus(b)}),void 0):(c.hasClass("wxy-img-focus")||(c=c.find(".wxy-img-focus")),c.css({width:a.width,height:a.height}),d.size()&&(d.size()>10&&(c.find("li:gt(9)").remove(),d=c.find("li")),k=d.size(),d.eq(0).siblings().fadeOut(1),d.each(function(){e[0].push('<a href="'+$(this).find("a").prop("href")+'">'+$(this).find("a").attr("data-title")+"</a>"),e[1].push("<li><i>"+($(this).index()+1)+"</i></li>")}),c.append('<div class="title-container">'+(a.title?'<div class="div mask"></div><div class="div"><div class="title">'+e[0][0]+"</div></div>":"")+(k>1&&a.indexType?'<ol class="'+a.indexType+'">'+e[1].join("")+"</ol>":"")+"</div>"+(a.button&&k>1?'<a class="button prev">PREV</a><a class="button next">NEXT</a>':"")),f=c.find(".title"),g=c.find("ol"),h=g.find("li"),h.eq(0).addClass("on"),g.width(h.eq(0).outerWidth(!0)*k),"center"==a.indexPos?g.css({left:"50%","margin-left":0-g.width()/2}):g.css({right:0}),f.width(c.width()-(a.indexType?g.width()+30:0)),1!=k&&(i=setInterval(function(){b()},a.delay),h.each(function(){$(this).hover(function(){clearInterval(i),b($(this).index())},function(){i=setInterval(function(){b()},a.delay)})}),c.find(".button").hover(function(){clearInterval(i)},function(){i=setInterval(function(){b()},a.delay)}).click(function(){$(this).hasClass("prev")?b(-1):b()}))),void 0)};
//下拉菜单
function initNav(a,b){$("#nav a[data-id='"+b+"']:first").addClass("on").parent().addClass("cur").find("em").slideDown(),$(function(){var b=$(window),c=$("#nav"),d=$("#nav li.cur>a"),e="em",f="on",g="div",h=d.find(e),i=300;c.hover(function(){},function(){h.stop(!1,!0).slideDown(i),d.addClass(f)}),b.resize(function(){var d=function(b){var c=0,f=b.parent().offset().left,h=b.parent().outerHeight(),i=0;for(b.show().width(1e5),i=b.height(),c=b.find("ul").outerWidth(!0);b.width(c)&&b.height()>i;)c++;c=b.outerWidth(),c>a&&(c=a,b.width(c)),f=f+c>e?e-f-c:0,b.css({left:f,top:h}),b.find(g).each(function(){$(this).parent().addClass("hassub"),d($(this))}),b.hide()},e=b.width()>a?(b.width()+a)/2:a;c.children().children(g).each(function(){d($(this))})}).resize(),$("#nav>li").each(function(){$(this).hover(function(){var a=$(this).hasClass("cur")?1:0;a&&!d.hasClass(f)?d.addClass(f):!a&&d.hasClass(f)&&h.stop().slideUp(i).parent().removeClass(f),$(this).find(e).stop().slideDown(i),$(this).find(g).eq(0).stop().slideDown(i)},function(){$(this).hasClass("cur")||$(this).find(e).stop().slideUp(i),$(this).find(g).stop().slideUp(i)}),$(this).find("li").hover(function(){$(this).find(g).stop().slideDown(i)},function(){$(this).find(g).stop().slideUp(i)})})})};
function wxySearch(){var tag=$("input[name='kw']");if(!tag.val()){tip('请输入关键词',2);tag.focus();return false;}}